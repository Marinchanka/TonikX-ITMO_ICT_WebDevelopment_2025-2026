# Лабораторная работа №2. Реализация простого сайта средствами Django.
***
**Автор:** Машковцева Марина
***
**Цель:** овладеть практическими навыками и умениями реализации web-сервисов
средствами Django 2.2.
## 1 Вариант "Список отелей":
Необходимо учитывать название отеля, владельца отеля, адрес, описание, типы
номеров, стоимость, вместимость, удобства.

Необходимо реализовать следующий функционал:
- Регистрация новых пользователей.
- Просмотр и резервирование номеров. Пользователь должен иметь
возможность редактирования и удаления своих резервирований.
- Написание отзывов к номерам. При добавлении комментариев, должны
сохраняться период проживания, текст комментария, рейтинг (1-10),
информация о комментаторе.
- Администратор должен иметь возможность заселить пользователя в отель и
выселить из отеля средствами Django-admin.
- В клиентской части должна формироваться таблица, отображающая
постояльцев отеля за последний месяц.

## Реализация проекта
### 1. Структура проекта
![Структура](images/struct.png)
### 2. Структура базы данных
![БД](images/bd.png)
### 3. Разделение ролей и функционала
**Пользователь (user):**

- Может зарегистрироваться, войти/выйти из системы.
- Просматривать список отелей и доступных номеров.
- Делать бронирование номера, если даты свободны.
- Добавлять отзывы с указанием периода проживания и оценкой (1–10).
- Просматривать собственные бронирования.

**Администратор (staff):**

- Имеет доступ к панели Django Admin.
- Может управлять отелями, номерами, бронированиями и отзывами.
- Реализованы действия для заселения и выселения пользователей:

    - Заселить (отметить как «Заселён»)
    - Выселить (отметить как «Выселен»)

- Видит таблицу постояльцев за последний месяц по каждому отелю.

### 4. Основные страницы приложения
- / — hotel_list

    Страница: список всех отелей (главная). Поддерживает пагинацию и поиск.


- /hotel/<hotel_id>/ — hotel_detail

    Страница: детальная карточка выбранного отеля — описание, список номеров, отзывы.


- /hotel/<hotel_id>/recent_guests/ — recent_guests

    Страница: постояльцы данного отеля за последний месяц (фильтр по отелю). Доступна только для staff/админа.


- /owner/<owner_id>/ — owner_detail

    Страница: информация о владельце (пользователе) — профиль / дополнительные поля.


- /reservations/ — reservation_list

    Страница: список бронирований текущего пользователя (или всех — если staff). Отсюда можно перейти к созданию/редактированию/удалению брони.


- /reservations/new/ — make_reservation

    Страница: форма создания нового бронирования (выбор номера, даты).


- /reservations/<reservation_id>/edit/ — edit_reservation

    Страница: форма редактирования существующего бронирования (доступно только владельцу брони или staff).


- /reservations/<reservation_id>/delete/ — delete_reservation

    Страница/эндпоинт: подтверждение и удаление бронирования (POST) — доступ только владельцу брони.


- /reviews/ — review_list

    Страница: список всех отзывов (или общий обзор отзывов).


- /reviews/new/ — add_review

    Страница: форма добавления нового отзыва (выбор номера, даты проживания, текст, рейтинг).


- /signup/ — signup

    Страница: регистрация нового пользователя (форма signup).


- /login/ — login (Django LoginView)

    Страница: форма входа; используется шаблон registration/login.html (или тот шаблон, который передан в LoginView).


- /logout/ — logout (Django LogoutView)

    Логика: выполнение logout и редирект (настройки LOGOUT_REDIRECT_URL в settings.py).

### 5. Дополнительные элементы
- Дизайн с Bootstrap:)
- Поиск по отелям
- Пагинация списка отелей, резерваций и отзывов (по 6 на страницу)
- Меню навигации на всех страницах через базовый шаблон base.html

### 6. Итог
В результате лабораторной работы реализовано небольшое Django-приложение с разграничением ролей, возможностью бронирования номеров, добавления отзывов и управлением данными в админ-панели.
Функционал отвечает требованиям задания и демонстрирует основные возможности Django по работе с моделями, шаблонами, формами и правами пользователей.